/* =======================================================
   myKaarma Interactive Training Checklist – FULL CSS
   Stable Build with All Fixes (Integrated + Rows, Opcodes, UI)
   ======================================================= */

:root {
  --orange: #f36f21;
  --light-orange: #f8b17b;
  --gray-bg: #d7d7d7;
  --card-bg: #fff;
  --border: #dcdcdc;
  --ink: #222;

  --radius-lg: 18px;
  --radius-sm: 14px;

  --shadow: 0 1px 4px rgba(15,23,42,0.16);

  --input-width: 260px;
}

/* ===== BASE ===== */
html, body {
  margin: 0;
  font-family: "Roboto","Inter",system-ui,-apple-system,"Segoe UI",Helvetica,Arial,sans-serif;
  background: var(--gray-bg);
  color: var(--ink);
  overflow-x: hidden;
}

*, em, i { font-style: normal !important; }

/* ===== TOP BAR ===== */
#topbar {
  background: linear-gradient(90deg, #000 0%, var(--orange) 100%);
  height: 70px;
  display: flex;
  align-items: center;
  padding: 0 40px;
  position: fixed;
  inset: 0 0 auto 0;
  z-index: 20;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
}
.topbar-content { display:flex; align-items:center; justify-content:space-between; width:100%; }
.top-logo { height:42px; }
#dealershipNameDisplay { font-size:22px; font-weight:600; color:#fff; }

/* ===== LAYOUT ===== */
#app { display:flex; min-height:100vh; margin-top:70px; }

/* ===== SIDEBAR ===== */
#sidebar {
  background: linear-gradient(180deg,#0b1220 0%,#111827 35%,#020617 100%);
  width:230px; padding:20px 12px 60px; position:fixed; top:70px; bottom:0;
  box-shadow:0 0 18px rgba(15,23,42,.6);
  overflow-y:auto;
}
#sidebar-nav { display:flex; flex-direction:column; gap:6px; }
.nav-icon { display:none; }

.nav-btn {
  background:transparent; border:1px solid transparent; padding:9px 12px;
  font-size:12px; border-radius:10px; cursor:pointer; color:#e5e7eb;
  text-transform:uppercase; letter-spacing:.08em; transition:.18s; position:relative;
}
.nav-btn.active {
  background: radial-gradient(circle at left, rgba(243,111,33,.35), transparent 55%);
  border-color:var(--orange); color:#fff;
}

#clearAllBtn {
  position:fixed; bottom:18px; left:24px;
  width:calc(230px - 48px);
  border:1px solid rgba(148,163,184,.9); border-radius:999px;
  background:rgba(15,23,42,.95); color:#fff;
  padding:7px 10px; font-size:11px; cursor:pointer;
}

/* ===== MAIN ===== */
main { flex:1; margin-left:230px; padding:32px; }

/* ===== PAGE SECTIONS ===== */
.page-section {
  display:none; background:#fff; border-radius:var(--radius-lg);
  padding:22px 32px 28px; margin:0 auto 40px; max-width:1100px;
  box-shadow:var(--shadow); position:relative;
}
.page-section.active { display:block; }

.page-section h1 {
  font-size:26px; font-weight:700; color:var(--orange); margin:4px 0 8px;
  position:relative;
}
.page-section h1::after {
  content:""; display:block; width:320px; height:4px; background:var(--orange);
  margin-top:8px; border-radius:2px;
}
.page-subtitle { margin:4px 0 20px; font-size:13px; color:#555; }

/* Clear page */
.clear-page-btn {
  position:absolute; top:16px; right:24px;
  padding:4px 10px; border-radius:999px; font-size:11px;
  border:1px solid #bbb; background:#f7f7f7; cursor:pointer;
}

/* ===== SECTION BLOCK ===== */
.section-block {
  background:#fff; border-radius:var(--radius-lg); border:1px solid var(--border);
  padding:0 22px 14px; margin-bottom:24px; box-shadow:var(--shadow);
}
.section-block h2 {
  background:var(--orange); color:#fff; font-size:16px; padding:10px 16px;
  margin:0 -22px 16px; border-radius:var(--radius-lg) var(--radius-lg) 0 0;
}

/* ===== CHECKLIST ROWS ===== */
.checklist-row {
  display:flex; align-items:center; gap:12px;
  padding-left:40px; padding-bottom:10px; margin-bottom:14px;
  border-bottom:1px solid #e0e0e0;
}
.checklist-row:last-of-type { border-bottom:none; }
.checklist-row label { flex:1; font-weight:500; color:#111827; }

.section-block input[type="text"],
.section-block select {
  width:var(--input-width); flex:0 0 var(--input-width);
  border-radius:var(--radius-sm); border:1px solid var(--border);
  padding:7px 10px; background:#f7f7f7; font-size:13px;
}

.section-block textarea {
  width:96%; padding:8px 10px; border-radius:var(--radius-sm);
  border:1px solid var(--border); background:#f7f7f7; font-size:13px;
}

/* ===== INDENT ===== */
.indent-sub { padding-left:60px !important; }

/* ======================================================
   FIXED INTEGRATED "+" ROWS (input + button fused)
   ====================================================== */

.section-block .checklist-row.integrated-plus,
.section-block .checklist-row:has(> .add-row) {
  display:flex; align-items:stretch; gap:0; /* IMPORTANT: no space */
}

/* label */
.section-block .checklist-row.integrated-plus label,
.section-block .checklist-row:has(> .add-row) label {
  flex:1; padding-right:16px;
}

/* fused input */
.section-block .checklist-row.integrated-plus input[type="text"],
.section-block .checklist-row:has(> .add-row) input[type="text"] {
  flex:0 0 calc(var(--input-width) - 34px);
  width:calc(var(--input-width) - 34px);
  border-right-width:0; /* fuse */
  border-top-right-radius:0; border-bottom-right-radius:0;
}

/* fused "+" button */
.section-block .add-row {
  flex:0 0 34px; width:34px; height:34px;
  background:var(--orange); color:#fff; border:1px solid var(--orange);
  border-radius:0 var(--radius-sm) var(--radius-sm) 0;
  font-size:18px; font-weight:700; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
}

/* ======================================================
   TABLES
   ====================================================== */

.table-container {
  background:#fff; border:1px solid var(--border);
  border-top:none; border-radius:0 0 var(--radius-lg) var(--radius-lg);
  box-shadow:var(--shadow); margin-bottom:32px;
}

.scroll-wrapper { overflow-x:auto; }

/* base table */
.training-table {
  width:100%; border-collapse:collapse; min-width:1000px;
}
.training-table th,
.training-table td {
  border:1px solid var(--border);
  padding:6px; font-size:13px; text-align:center;
  white-space:nowrap;
}

/* table header */
.training-table thead th {
  background:var(--light-orange); color:#fff;
  position:sticky; top:0; z-index:3;
  border-bottom:2px solid rgba(0,0,0,.12);
}

/* ONLY page 5 tables get sticky first column */
#training-checklist .training-table th:first-child,
#training-checklist .training-table td:first-child {
  position:sticky; left:0; z-index:4;
  background:#fff;
}

/* opcodes/parts do NOT use sticky */
#opcodes-pricing .training-table th:first-child,
#opcodes-pricing .training-table td:first-child {
  position:static !important;
}

/* description column bigger */
.wide-desc { min-width:220px; }

/* row hover */
.training-table tbody tr:hover { background:#fff7f1; }

/* + button in footer */
.table-footer {
  padding:6px 10px; background:#f5f5f5;
  border-top:1px solid var(--border);
}
.table-footer .add-row {
  width:22px; height:22px; font-size:14px; font-weight:700;
  border-radius:50%; background:var(--orange); color:#fff;
  border:none; cursor:pointer;
}

/* ======================================================
   DMS DOTS – no text, dot only
   ====================================================== */

.dms-tag { font-size:0; padding:3px; border-radius:999px; }
.dms-tag::before {
  content:""; width:8px; height:8px; border-radius:999px; display:inline-block;
}

/* Colors */
.dms-tag-auto::before { background:#22c55e; }
.dms-tag-ondemand::before { background:#f97316; }
.dms-tag-withro::before { background:#0ea5e9; }
.dms-tag-planned::before { background:#6b7280; }
.dms-tag-na::before { background:#9ca3af; }
.dms-tag-display::before { background:#6366f1; }
.dms-tag-limited::before { background:#e11d48; }

